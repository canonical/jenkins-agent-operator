[32mINFO    [0m jubilant:_juju.py:313 cli: juju add-model --no-switch jubilant-57bf7470
[32mINFO    [0m jubilant:_juju.py:313 cli: juju add-model --no-switch jubilant-ead8e360 --controller microk8s
[32mINFO    [0m tests.integration.conftest:conftest.py:188 system arch: x86_64
[32mINFO    [0m tests.integration.conftest:conftest.py:191 Deploying Jenkins server via Juju: x86_64
[32mINFO    [0m jubilant:_juju.py:313 cli: juju deploy --model microk8s:jubilant-ead8e360 jenkins-k8s --channel latest/edge
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .model.name = 'jubilant-ead8e360'
+ .model.type = 'caas'
+ .model.controller = 'microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.11'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['jenkins-k8s'].charm = 'jenkins-k8s'
+ .apps['jenkins-k8s'].charm_origin = 'charmhub'
+ .apps['jenkins-k8s'].charm_name = 'jenkins-k8s'
+ .apps['jenkins-k8s'].charm_rev = 225
+ .apps['jenkins-k8s'].exposed = False
+ .apps['jenkins-k8s'].base.name = 'ubuntu'
+ .apps['jenkins-k8s'].base.channel = '24.04'
+ .apps['jenkins-k8s'].charm_channel = 'latest/edge'
+ .apps['jenkins-k8s'].scale = 1
+ .apps['jenkins-k8s'].app_status.current = 'waiting'
+ .apps['jenkins-k8s'].app_status.message = 'installing agent'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'waiting'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'installing agent'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'allocating'
+ .apps['jenkins-k8s'].endpoint_bindings[''] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['agent'] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['agent-discovery-ingress'] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['auth-proxy'] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['grafana-dashboard'] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['logging'] = 'alpha'
+ .apps['jenkins-k8s'].endpoint_bindings['metrics-endpoint'] = 'alpha'
+ .storage.storage['jenkins-home/0'].kind = 'filesystem'
+ .storage.storage['jenkins-home/0'].status.current = 'pending'
+ .storage.storage['jenkins-home/0'].persistent = False
+ .storage.storage['jenkins-home/0'].life = 'alive'
+ .storage.storage['jenkins-home/0'].attachments.units['jenkins-k8s/0'].life = 'alive'
+ .storage.filesystems['0'].size = 0
+ .storage.filesystems['0'].volume = '0'
+ .storage.filesystems['0'].storage = 'jenkins-home/0'
+ .storage.filesystems['0'].attachments.containers['jenkins-k8s/0'].mount_point = ''
+ .storage.filesystems['0'].attachments.containers['jenkins-k8s/0'].read_only = False
+ .storage.filesystems['0'].attachments.containers['jenkins-k8s/0'].life = 'alive'
+ .storage.filesystems['0'].attachments.units['jenkins-k8s/0'].life = 'alive'
+ .storage.filesystems['0'].life = 'alive'
+ .storage.filesystems['0'].status.current = 'pending'
+ .storage.volumes['0'].size = 0
+ .storage.volumes['0'].persistent = False
+ .storage.volumes['0'].storage = 'jenkins-home/0'
+ .storage.volumes['0'].attachments.containers['jenkins-k8s/0'].read_only = False
+ .storage.volumes['0'].attachments.containers['jenkins-k8s/0'].life = 'alive'
+ .storage.volumes['0'].attachments.units['jenkins-k8s/0'].life = 'alive'
+ .storage.volumes['0'].life = 'alive'
+ .storage.volumes['0'].status.current = 'pending'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .apps['jenkins-k8s'].provider_id = '00475714-9261-4cfd-81d0-55c008f0acad'
+ .apps['jenkins-k8s'].address = '10.152.183.246'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].provider_id = 'jenkins-k8s-0'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].app_status.message = 'installing agent'
+ .apps['jenkins-k8s'].app_status.message = 'agent initialising'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'installing agent'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'agent initialising'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.version = '3.6.11'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].leader = True
- .storage.storage['jenkins-home/0'].status.current = 'pending'
+ .storage.storage['jenkins-home/0'].status.current = 'attached'
+ .storage.storage['jenkins-home/0'].status.message = 'Successfully provisioned volume pvc-75ba71d4-1a18-432c-acd4-7a8e628d0d9a'
- .storage.filesystems['0'].size = 0
+ .storage.filesystems['0'].size = 1024
+ .storage.filesystems['0'].provider_id = '75ba71d4-1a18-432c-acd4-7a8e628d0d9a'
- .storage.filesystems['0'].attachments.containers['jenkins-k8s/0'].mount_point = ''
+ .storage.filesystems['0'].attachments.containers['jenkins-k8s/0'].mount_point = '/var/lib/jenkins'
+ .storage.filesystems['0'].pool = 'kubernetes'
- .storage.filesystems['0'].status.current = 'pending'
- .storage.volumes['0'].size = 0
- .storage.volumes['0'].persistent = False
+ .storage.filesystems['0'].status.current = 'attached'
+ .storage.filesystems['0'].status.message = 'Successfully provisioned volume pvc-75ba71d4-1a18-432c-acd4-7a8e628d0d9a'
+ .storage.volumes['0'].size = 1024
+ .storage.volumes['0'].persistent = True
+ .storage.volumes['0'].provider_id = 'pvc-75ba71d4-1a18-432c-acd4-7a8e628d0d9a'
+ .storage.volumes['0'].pool = 'kubernetes'
- .storage.volumes['0'].status.current = 'pending'
+ .storage.volumes['0'].status.current = 'attached'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].address = '10.1.53.15'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].app_status.current = 'waiting'
- .apps['jenkins-k8s'].app_status.message = 'agent initialising'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'waiting'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'agent initialising'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'allocating'
+ .apps['jenkins-k8s'].app_status.current = 'maintenance'
+ .apps['jenkins-k8s'].app_status.message = 'installing charm software'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'maintenance'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'executing'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running install hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running install hook'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running jenkins-home-storage-attached hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].app_status.current = 'maintenance'
- .apps['jenkins-k8s'].app_status.message = 'installing charm software'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'maintenance'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['jenkins-k8s'].app_status.current = 'waiting'
+ .apps['jenkins-k8s'].app_status.message = 'pebble not yet ready.'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'waiting'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'pebble not yet ready.'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running jenkins-home-storage-attached hook'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running start hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'executing'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running start hook'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].app_status.current = 'waiting'
- .apps['jenkins-k8s'].app_status.message = 'pebble not yet ready.'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'waiting'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'pebble not yet ready.'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'idle'
+ .apps['jenkins-k8s'].app_status.current = 'maintenance'
+ .apps['jenkins-k8s'].app_status.message = 'Installing Jenkins.'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'maintenance'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'Installing Jenkins.'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'executing'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running jenkins-pebble-ready hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'executing'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.message = 'running jenkins-pebble-ready hook'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].app_status.current = 'maintenance'
- .apps['jenkins-k8s'].app_status.message = 'Installing Jenkins.'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'maintenance'
- .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.message = 'Installing Jenkins.'
+ .apps['jenkins-k8s'].app_status.current = 'waiting'
+ .apps['jenkins-k8s'].app_status.message = 'installing agent'
+ .apps['jenkins-k8s'].units['jenkins-k8s/0'].workload_status.current = 'active'
+ .apps['jenkins-k8s'].version = '2.528.1'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-k8s'].app_status.current = 'waiting'
- .apps['jenkins-k8s'].app_status.message = 'installing agent'
+ .apps['jenkins-k8s'].app_status.current = 'active'
[32mINFO    [0m jubilant:_juju.py:313 cli: juju status --model microk8s:jubilant-ead8e360 --format json
[32mINFO    [0m jubilant:_juju.py:313 cli: juju run --model microk8s:jubilant-ead8e360 --format json jenkins-k8s/0 get-admin-password
[32mINFO    [0m jubilant:_juju.py:313 cli: juju offer --controller microk8s jubilant-ead8e360.jenkins-k8s:agent jenkins-k8s
[32mINFO    [0m jubilant:_juju.py:313 cli: juju consume --model jubilant-57bf7470 microk8s:jubilant-ead8e360.jenkins-k8s
[32mINFO    [0m jubilant:_juju.py:313 cli: juju consume --model jubilant-57bf7470 microk8s:jubilant-ead8e360.jenkins-k8s
[32mINFO    [0m jubilant:_juju.py:313 cli: juju deploy --model jubilant-57bf7470 ./jenkins-agent_amd64.charm jenkins-agent --base ubuntu@24.04 --config jenkins_agent_labels=machine --constraints arch=amd64
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .model.name = 'jubilant-57bf7470'
+ .model.type = 'iaas'
+ .model.controller = 'localhost'
+ .model.cloud = 'localhost'
+ .model.version = '3.6.11'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .machines['0'].juju_status.current = 'pending'
+ .machines['0'].instance_id = 'pending'
+ .machines['0'].machine_status.current = 'pending'
+ .machines['0'].modification_status.current = 'idle'
+ .machines['0'].base.name = 'ubuntu'
+ .machines['0'].base.channel = '24.04'
+ .machines['0'].constraints = 'arch=amd64'
+ .apps['jenkins-agent'].charm = 'local:jenkins-agent-0'
+ .apps['jenkins-agent'].charm_origin = 'local'
+ .apps['jenkins-agent'].charm_name = 'jenkins-agent'
+ .apps['jenkins-agent'].charm_rev = 0
+ .apps['jenkins-agent'].exposed = False
+ .apps['jenkins-agent'].base.name = 'ubuntu'
+ .apps['jenkins-agent'].base.channel = '24.04'
+ .apps['jenkins-agent'].app_status.current = 'waiting'
+ .apps['jenkins-agent'].app_status.message = 'waiting for machine'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'waiting'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'waiting for machine'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'allocating'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].machine = '0'
+ .apps['jenkins-agent'].endpoint_bindings[''] = 'alpha'
+ .apps['jenkins-agent'].endpoint_bindings['agent'] = 'alpha'
+ .app_endpoints['jenkins-k8s'].url = 'microk8s:admin/jubilant-ead8e360.jenkins-k8s'
+ .app_endpoints['jenkins-k8s'].endpoints['agent'].interface = 'jenkins_agent_v0'
+ .app_endpoints['jenkins-k8s'].endpoints['agent'].role = 'requirer'
+ .app_endpoints['jenkins-k8s'].app_status.current = 'active'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .machines['0'].machine_status.current = 'pending'
+ .machines['0'].machine_status.current = 'allocating'
+ .machines['0'].machine_status.message = 'Creating container'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .machines['0'].instance_id = 'pending'
- .machines['0'].machine_status.current = 'allocating'
- .machines['0'].machine_status.message = 'Creating container'
- .machines['0'].modification_status.current = 'idle'
+ .machines['0'].instance_id = 'juju-4dc4c0-0'
+ .machines['0'].machine_status.current = 'running'
+ .machines['0'].machine_status.message = 'Container started'
+ .machines['0'].modification_status.current = 'applied'
+ .machines['0'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .machines['0'].dns_name = '10.102.247.138'
+ .machines['0'].ip_addresses[0] = '10.102.247.138'
- .machines['0'].machine_status.message = 'Container started'
+ .machines['0'].machine_status.message = 'Running'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].public_address = '10.102.247.138'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .machines['0'].juju_status.current = 'pending'
+ .machines['0'].juju_status.current = 'started'
+ .machines['0'].juju_status.version = '3.6.11'
+ .machines['0'].hostname = 'juju-4dc4c0-0'
+ .machines['0'].network_interfaces['eth0'].ip_addresses[0] = '10.102.247.138'
+ .machines['0'].network_interfaces['eth0'].mac_address = '00:16:3e:3d:bf:c0'
+ .machines['0'].network_interfaces['eth0'].is_up = True
+ .machines['0'].network_interfaces['eth0'].gateway = '10.102.247.1'
+ .machines['0'].network_interfaces['eth0'].space = 'alpha'
- .apps['jenkins-agent'].app_status.message = 'waiting for machine'
+ .apps['jenkins-agent'].app_status.message = 'agent initialising'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'waiting for machine'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'agent initialising'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.version = '3.6.11'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].app_status.current = 'waiting'
- .apps['jenkins-agent'].app_status.message = 'agent initialising'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'waiting'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'agent initialising'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'allocating'
+ .apps['jenkins-agent'].app_status.current = 'maintenance'
+ .apps['jenkins-agent'].app_status.message = 'installing charm software'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'maintenance'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'installing charm software'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'executing'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running install hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running install hook'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running leader-elected hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].app_status.current = 'maintenance'
- .apps['jenkins-agent'].app_status.message = 'installing charm software'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'maintenance'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'installing charm software'
+ .apps['jenkins-agent'].app_status.current = 'blocked'
+ .apps['jenkins-agent'].app_status.message = 'Waiting for relation.'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'blocked'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Waiting for relation.'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running leader-elected hook'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running start hook'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'executing'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running start hook'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant:_juju.py:313 cli: juju integrate --model jubilant-57bf7470 jenkins-k8s jenkins-agent
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
+ .model.name = 'jubilant-57bf7470'
+ .model.type = 'iaas'
+ .model.controller = 'localhost'
+ .model.cloud = 'localhost'
+ .model.version = '3.6.11'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .machines['0'].juju_status.current = 'started'
+ .machines['0'].juju_status.version = '3.6.11'
+ .machines['0'].hostname = 'juju-4dc4c0-0'
+ .machines['0'].dns_name = '10.102.247.138'
+ .machines['0'].ip_addresses[0] = '10.102.247.138'
+ .machines['0'].instance_id = 'juju-4dc4c0-0'
+ .machines['0'].machine_status.current = 'running'
+ .machines['0'].machine_status.message = 'Running'
+ .machines['0'].modification_status.current = 'applied'
+ .machines['0'].base.name = 'ubuntu'
+ .machines['0'].base.channel = '24.04'
+ .machines['0'].network_interfaces['eth0'].ip_addresses[0] = '10.102.247.138'
+ .machines['0'].network_interfaces['eth0'].mac_address = '00:16:3e:3d:bf:c0'
+ .machines['0'].network_interfaces['eth0'].is_up = True
+ .machines['0'].network_interfaces['eth0'].gateway = '10.102.247.1'
+ .machines['0'].network_interfaces['eth0'].space = 'alpha'
+ .machines['0'].constraints = 'arch=amd64'
+ .machines['0'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
+ .apps['jenkins-agent'].charm = 'local:jenkins-agent-0'
+ .apps['jenkins-agent'].charm_origin = 'local'
+ .apps['jenkins-agent'].charm_name = 'jenkins-agent'
+ .apps['jenkins-agent'].charm_rev = 0
+ .apps['jenkins-agent'].exposed = False
+ .apps['jenkins-agent'].base.name = 'ubuntu'
+ .apps['jenkins-agent'].base.channel = '24.04'
+ .apps['jenkins-agent'].app_status.current = 'blocked'
+ .apps['jenkins-agent'].app_status.message = 'Waiting for relation.'
+ .apps['jenkins-agent'].relations['agent'][0].related_app = 'jenkins-k8s'
+ .apps['jenkins-agent'].relations['agent'][0].interface = 'jenkins_agent_v0'
+ .apps['jenkins-agent'].relations['agent'][0].scope = 'global'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'blocked'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Waiting for relation.'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'executing'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running agent-relation-created hook'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.version = '3.6.11'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].leader = True
+ .apps['jenkins-agent'].units['jenkins-agent/0'].machine = '0'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].public_address = '10.102.247.138'
+ .apps['jenkins-agent'].endpoint_bindings[''] = 'alpha'
+ .apps['jenkins-agent'].endpoint_bindings['agent'] = 'alpha'
+ .app_endpoints['jenkins-k8s'].url = 'microk8s:admin/jubilant-ead8e360.jenkins-k8s'
+ .app_endpoints['jenkins-k8s'].endpoints['agent'].interface = 'jenkins_agent_v0'
+ .app_endpoints['jenkins-k8s'].endpoints['agent'].role = 'requirer'
+ .app_endpoints['jenkins-k8s'].app_status.current = 'active'
+ .app_endpoints['jenkins-k8s'].relations['agent'][0] = 'jenkins-agent'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].app_status.current = 'blocked'
- .apps['jenkins-agent'].app_status.message = 'Waiting for relation.'
+ .apps['jenkins-agent'].app_status.current = 'waiting'
+ .apps['jenkins-agent'].app_status.message = 'Waiting for complete relation data.'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'blocked'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Waiting for relation.'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'waiting'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Waiting for complete relation data.'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running agent-relation-created hook'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running agent-relation-changed hook for jenkins-k8s/0'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'executing'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running agent-relation-changed hook for jenkins-k8s/0'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'idle'
- .app_endpoints['jenkins-k8s'].app_status.current = 'active'
+ .app_endpoints['jenkins-k8s'].app_status.current = 'maintenance'
+ .app_endpoints['jenkins-k8s'].app_status.message = 'Reconciling agent nodes.'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].app_status.current = 'waiting'
- .apps['jenkins-agent'].app_status.message = 'Waiting for complete relation data.'
+ .apps['jenkins-agent'].app_status.current = 'maintenance'
+ .apps['jenkins-agent'].app_status.message = 'Starting jenkins agent service'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'waiting'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Waiting for complete relation data.'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'idle'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'maintenance'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Starting jenkins agent service'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'executing'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running agent-relation-changed hook for jenkins-k8s/0'
- .app_endpoints['jenkins-k8s'].app_status.current = 'maintenance'
- .app_endpoints['jenkins-k8s'].app_status.message = 'Reconciling agent nodes.'
+ .app_endpoints['jenkins-k8s'].app_status.current = 'active'
[32mINFO    [0m jubilant.wait:_juju.py:1254 wait: status changed:
- .apps['jenkins-agent'].app_status.current = 'maintenance'
- .apps['jenkins-agent'].app_status.message = 'Starting jenkins agent service'
+ .apps['jenkins-agent'].app_status.current = 'active'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'maintenance'
- .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.message = 'Starting jenkins agent service'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'executing'
- .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.message = 'running agent-relation-changed hook for jenkins-k8s/0'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].workload_status.current = 'active'
+ .apps['jenkins-agent'].units['jenkins-agent/0'].juju_status.current = 'idle'